/////////////////////////////////////////////////////////////////////////////////////////////בס"ד

### פירוק איפיון לפרוייקט

## מודל נתונים של משתמש

שם מודל: User
נכסים:
username: type String required,
email(unique): type String required,
password: type String required,
biz: type Boolean default: false required
הסיסמא חייבת להכנס למסד הנתונים לאחר הצפנה עם bcrypt

## מודל נתונים של כרטיס ביקור

שם מודל: BuisnessCard
נכסים:
buisness-name: type String required
buisness-description: type String required
address: type Object {city: type String required, zip-code type String required, street type String required, house-number type String}, required,
buisness-phone: type String required,
buisness-image: type String required,
user_id: refrences users collection required

## נקודת גישה ראשונה:

מת'ודה: post
ניתוב: localhost:3000/users/signup
מטרה: יצירת משתמש חדש במסד הנתונים
תגובה מהשרת: status 200, json with id email and username
שגיאות אפשריות:
username: min length: 4, won't let special characters (@!#$%^&\*...),
email: if not unique, min length: 9
password: min length: 8, without spaces

## נקודת גישה שנייה

מת'ודה: post
ניתוב: localhost:3000/users/login
מטרה: לאפשר חיבור של משתמש לפי אימייל וסיסמא
שגיאות אפשריות:
בדיקת תקינות לתבנית האימייל והסיסמא
להשוות את האימייל והסיסמא לאלה שבמסד הנתונים ובמידה והם לא נכונים להוציא תגובה שגיאה בסטטוס 400
תגובה:
במידה והכל תקין להוציא תגובה בסטטוס 200 עם אסימון שבתוכו יהיה את ה
id
ואת הערך של השדה biz

## נקודת גישה שלישית

מת'ודה: get
ניתוב: localhost:3000/users/token
מטרה: קבלת פרטים מלאים של המשתמש בעזרת הזדהות עם האסימון שהתקבל בעת ההתחברות
שגיאות אפשריות:
אין אסימון או שהוא לא תקין במצב כזה להוציא תגובה בסטאטוס 401 עם השגיאה הרלוונטית
תגובה:
במידה והאסימון תקין להוציא תגובה עם סטטוס 200 ביחד עם ג'ייסון שמכיל את פרטי המשתמש הרלוונטיים

## נקודת גישה רביעית

מת'ודה: post
ניתוב: localhost:3000/buisness-card
מטרה: פתיחת כרטיס ביקור לעסקים/חברות
שגיאות אפשריות:
גישה תינתן רק למשתמש שמצרף לבקשה את האסימון שלו
שדות לא תקינים להחזיר הודעת שגיאה בסטטוס 400
תגובה:
במידה והכל תקין תחזור תגובה בסטטוס 200 עם פרטי כרטיס הביקור החדש שנשמר במסד הנתונים

## נקודת גישה חמישית

מתו'דה: get
ניתוב: localhost:3000/buisness-card/:id
מטרה: השגת פרטים של כרטיס ביקור לפי ה
id
של אותו כרטיס ביקור
שגיאות אפשריות:
גישה תינתן רק למשתמש מחובר ותדרוש את האסימון שסופק לאחר ההתחברות
במידה והאסימון לא נכון או שונה באופן ידני תינתן למשתמש שגיאה שאומרת שהוא צריך להתחבר שוב
במצבים כאלו תיזרק שגיאה בסטטוס 400 שאומרת למשתמש שהוא צריך להתחבר שוב
שגיאה נוספת שיכולה לקרות היא שה
id
של כרטיס הביקור לא נכון
במצבים כאלו תיזרק שגיאה בסטטוס 400 שאומרת שהתוכן לא נמצא
תגובה:
במידה והכל תקין תחזור תגובה בסטטוס 200 עם פרטי כרטיס הביקור שחיפשנו לפי ה
id

## נקודת גישה שישית

מת'ודה: put
ניתוב: localhost:3000/buisness-card/:id
מטרה: לקבל
id
של כרטיס ביקור מסויים ולאפשר עריכה של אותו כרטיס ביקור
שגיאות אפשריות:
גישה תינתן רק למשתמש מחובר ותדרוש את האסימון שסופק לאחר ההתחברות
במידה והאסימון לא נכון או שונה באופן ידני תינתן למשתמש שגיאה שאומרת שהוא צריך להתחבר שוב
במצבים כאלו תיזרק שגיאה בסטטוס 400 שאומרת למשתמש שהוא צריך להתחבר שוב
שגיאה נוספת שיכולה לקרות היא שה
id
של כרטיס הביקור לא נכון
במצבים כאלו תיזרק שגיאה בסטטוס 400 שאומרת שהתוכן לא נמצא
במידה והמשתמש הכניס פרטים לא נכונים או השאיר שדה ריק במקום שבו השדה אמור להיות שדה חובה
במצבים כאלו תיזרק שגיאה בסטטוס 409 שאומרת למשתמש שהוא לא מורשה לעדכן את הפרטים
תגובה:
במידה והכל טוב תשלח תגובה בסטטוס 200 עם המסמך המעודכן מצורף אליה

## נקודת גישה שביעית

מת'ודה: delete
ניתוב: localhost:3000/buisness-card/:id
מטרה: מחיקת כרטיס ביקור מסויים לפי ה
id
שלו
שגיאות אפשריות:
גישה תינתן רק למשתמש מחובר ותדרוש את האסימון שסופק לאחר ההתחברות
במידה והאסימון לא נכון או שונה באופן ידני תינתן למשתמש שגיאה שאומרת שהוא צריך להתחבר שוב
במצבים כאלו תיזרק שגיאה בסטטוס 400 שאומרת למשתמש שהוא צריך להתחבר שוב
שגיאה נוספת שיכולה לקרות היא שה
id
של כרטיס הביקור לא נכון
במצבים כאלו תיזרק שגיאה בסטטוס 400 שאומרת שהתוכן לא נמצא
תגובה:
במידה והכל טוב תשלח תגובה בסטטוס 204 עם הודעה שכרטיס הביקור המדובר נמחק

## נקודת גישה שמינית

מת'ודה: get
ניתוב: localhost:3000/buisness-card/user/:id
מטרה: קבלת מערך של כל כרטיסי הביקור המשוייכים למשתמש מסויים לפי ה
id
של אותו משתמש
שגיאות אפשריות:
גישה תינתן רק למשתמש מחובר ותדרוש את האסימון שסופק לאחר ההתחברות
במידה והאסימון לא נכון או שונה באופן ידני תינתן למשתמש שגיאה שאומרת שהוא צריך להתחבר שוב
במצבים כאלו תיזרק שגיאה בסטטוס 400 שאומרת למשתמש שהוא צריך להתחבר שוב
שגיאה נוספת שיכולה לקרות היא שה
id
של המשתמש לא נכון
במצבים כאלו תיזרק שגיאה בסטטוס 400 שאומרת שהתוכן לא נמצא
תגובה:
במידה והכל טוב תשלח תגובה בסטטוס 200 עם מערך כרטיסי הביקור לפי משתמש
